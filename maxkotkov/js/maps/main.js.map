{"version":3,"sources":["main.js","../../components/slider/_slider.js","../../components/whoLearn/_whoLearn.js"],"names":["jQuery","$","removeTransform","block","className","css","transform","-webkit-transform","-moz-transform","-ms-transform","-o-transform","removeClass","catalogueSort","item","category","each","this","addClass","data","changeActiveTab","tabLink","siblings","hasClass","changeActiveTabContent","tabBlock","id","blockID","tabContent","find","ionSound","play","pointByPlacemark","mapBlock","myPlacemark","ymaps","Placemark","iconCaption","preset","iconCaptionMaxWidth","geoObjects","add","$mainSlider","fotorama","$addSlider","setOptions","width","height","nav","arrows","fit","loop","on","e","eq","activeIndex","fadeIn","hide","stopAutoplay","autoplay","test","navigator","userAgent","i","a","bgX","slice","indexOf","bgY","margin","window","bind","is_mobile","transition","-webkit-transition","opacity","sounds","path","template_url","volume","document","SIModals","beforeOpen","beforeClose","SmoothScroll","stepSize","match","event","preventDefault","wheelDelta","currentScrollPosition","pageYOffset","scrollTo","is_OSX","fn","SIInit","attr","not","fancybox","helpers","thumbs","SIForms","validateFields","client_name","client_phone","client_mail","sendSuccess","res","SIJump","SIPageMessages","init","SIModalInit","attachModal",".send-extra",".send-extra2","attachClose","click","padding","autoScale","transitionIn","transitionOut","title","href","replace","RegExp","type","swf","wmode","allowfullscreen","styler","spoiler","Swiper","slidesPerView","pagination","nextButton","prevButton","paginationClickable","onSlideChangeStart","swiper","spaceBetween","dotdotdot","curTabBlock","tabID","tabBlockID","parents","mapID","ready","Map","center","zoom","searchControlProvider","behaviors","disable","myMap","setTimeout","next","toggle"],"mappings":"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","file":"../main.js","sourcesContent":["jQuery(function ($) {\n    // SLIDER_LINKS = []\n    // $('#mainSlider a').each(function(index) { SLIDER_LINKS.push(this.href) })\n    \n    // $(function() {\n    //     $.each(SLIDER_LINKS, function(index, href) {\n    //         var add = $('#addSlider .slide:eq(' + index + ')');\n    //         add.find('.button--info').attr('href', href);\n    //         add.find('.button--primary').attr('href', href + '#registerAnchor');\n    //     })\n    // })\n    $(function() {\n       var $mainSlider = $('#mainSlider').fotorama().data('fotorama'),\n          $addSlider = $('#addSlider .add-slider');\n       $mainSlider.setOptions({\n        width: '100%',\n        height: '345px',\n        nav: 'dots',\n        arrows: false,\n        fit: 'cover',\n        loop: true,\n        // autoplay: 5000\n      });\n      $('#mainSlider').on('fotorama:load fotorama:show', function(e, fotorama) {\n        $addSlider.eq(fotorama.activeIndex).fadeIn(200).siblings().hide();\n      });\n    \n      $('#mainSlider, #addSlider').on('mouseenter', function() {\n        $mainSlider.stopAutoplay();\n      }).on('mouseleave', function() {\n        // $mainSlider.startAutoplay(5000);\n      });\n    \n    });\n    $(function() {\n       var $whoLearn = $('#whoLearn').fotorama().data('fotorama');\n       $whoLearn.setOptions({\n        width: '100%',\n        height: '370px',\n        nav: false,\n        arrows: false,\n        fit: 'cover',\n        loop: true,\n        autoplay: false\n        // autoplay: 5000\n      });\n    \n      $('#whoLearn').on('mouseenter', function() {\n        // $whoLearn.stopAutoplay();\n      }).on('mouseleave', function() {\n        // $whoLearn.startAutoplay(5000);\n      });\n    });\n    // ===================================================== Fix fixed bg's jump\n\n    /MSIE [6-8]|Mac/i.test(navigator.userAgent) || $(\"header, article, footer\").each(function () {\n        if (\"fixed\" == $(this).css(\"backgroundAttachment\")) {\n            var i = $(this), a = /WebKit/i.test(navigator.userAgent) ? 9 : 8;\n            i.addClass(\"froid-fixed-bg\").data({\n                bgX: i.css(\"backgroundPosition\").slice(0, i.css(\"backgroundPosition\").indexOf(\" \")),\n                bgY: i.css(\"backgroundPosition\").slice(i.css(\"backgroundPosition\").indexOf(\" \")),\n                margin: a\n            })\n        }\n    }), $(window).bind(\"SIModals.modalsOpen\", function () {\n        $(\".froid-fixed-bg\").each(function () {\n            var i = $(this);\n            i.css(\"backgroundPosition\", \"calc(\" + i.data(\"bgX\") + \" - \" + i.data(\"margin\") + \"px) \" + i.data(\"bgY\"))\n        })\n    }), $(window).bind(\"SIModals.modalsClose\", function () {\n        $(\".froid-fixed-bg\").each(function () {\n            var i = $(this);\n            i.css(\"backgroundPosition\", i.data(\"bgX\") + \" \" + i.data(\"bgY\"))\n        })\n    });\n\n    // ===================================================== Mobile full-width && disable animation\n\n    if (is_mobile()) {\n\n        // Fix mobile fixed bg's\n        $(\"header, section, article, footer, .section-bg-block::before\").each(function () {\n            if (\"fixed\" == $(this).css(\"backgroundAttachment\")) $(this).css('backgroundAttachment', 'scroll');\n        });\n\n        // Remove animation\n        function removeAnimation(block, className) {\n            block.css({\n                'transform': 'none',\n                '-webkit-transform': 'none',\n                '-moz-transform': 'none',\n                '-ms-transform': 'none',\n                '-o-transform': 'none',\n                'transition': 'none',\n                '-webkit-transition': 'none',\n                'opacity': 1\n            }).removeClass(className);\n        }\n\n        function removeTransform(block, className) {\n            block.css({\n                'transform': 'none',\n                '-webkit-transform': 'none',\n                '-moz-transform': 'none',\n                '-ms-transform': 'none',\n                '-o-transform': 'none'\n            }).removeClass(className);\n        }\n\n        removeAnimation($('.cre-animate'), 'cre-animate');\n        removeTransform($('.si-floating'), 'si-floating');\n        removeTransform($('.si-floating2'), 'si-floating2');\n        removeTransform($('.si-floating3'), 'si-floating3');\n        removeTransform($('.si-floating4'), 'si-floating4');\n\n        // Mobile stretch\n        // $('html, body').css('min-width', '1280px').addClass('mobile');\n        // $('html').css('width', window.innerWidth + 'px');\n\n\n        // ===================================================== All sound load\n        $.ionSound({\n            sounds: [\"bip-1\", \"bip-2\", \"wuf-1\", \"wuf-2\", \"wuf-3\", \"wuf-4\"],\n            path: template_url + \"/sounds/\",\n            volume: 0\n        });\n    }\n    else {\n\n        // ===================================================== All sound load\n        $.ionSound({\n            sounds: [\"bip-1\", \"bip-2\", \"wuf-1\", \"wuf-2\", \"wuf-3\", \"wuf-4\"],\n            path: template_url + \"/sounds/\",\n            volume: 0.3\n        });\n\n        // ===================================================== Sounds\n        $(document).on('mouseenter',\n            '.btn, ' +\n            '.si-close, ' +\n            '.si-close-popup, ' +\n            '.phone-link, ' +\n            '.si-jump, ' +\n            '.swiper-button-prev, ' +\n            '.swiper-button-next, ' +\n            '.swiper-pagination-bullet, ' +\n            '.tab-link', function () {\n                $.ionSound.play('bip-2');\n            });\n        SIModals.beforeOpen = function () {\n            $.ionSound.play('wuf-4');\n        };\n        SIModals.beforeClose = function () {\n            $.ionSound.play('wuf-3');\n        };\n\n\n        // ===================================================== smooth scrolling\n        SmoothScroll({stepSize: 100});\n\n        if (navigator.userAgent.match(/Trident\\/7\\./)) { // if IE\n            $('body').on(\"mousewheel\", function () {\n                event.preventDefault();\n                var wheelDelta = event.wheelDelta;\n                var currentScrollPosition = window.pageYOffset;\n                window.scrollTo(0, currentScrollPosition - wheelDelta);\n            });\n        }\n    }\n\n    if (is_OSX()) {\n        $('html, body').addClass('osx');\n    }\n\n\n    // ===================================================== Init all plugins and scripts\n    $.fn.SIInit = function () {\n\n        //Modal photos\n        $('a[data-rel]').each(function () {\n            $(this).attr('rel', $(this).data('rel'));\n        });\n        $('a[rel^=fancybox]').not('.cloned a').fancybox({\n            helpers: {\n                thumbs: true\n            }\n        });\n\n        //Forms\n        $('.send-form').SIForms({\n            'validateFields': {\n                'client_name': 'Укажите ваше имя',\n                'client_phone': 'Укажите ваш телефон',\n                'client_mail': 'Укажите ваш e-mail'\n            },\n            'sendSuccess': function (res) {\n                //указать id счётчика!!\n                //yaCounter.reachGoal('target' + res.id);\n                //ga('send', 'event', res.gcode, res.gcode);\n            }\n        });\n\n        $('.send-form1').SIForms({\n            'validateFields': {\n                'client_phone': 'Укажите ваш телефон',\n                'client_mail': 'Укажите ваш e-mail'\n            },\n            'sendSuccess': function (res) {\n                //указать id счётчика!!\n                //yaCounter.reachGoal('target' + res.id);\n                //ga('send', 'event', res.gcode, res.gcode);\n            }\n        });\n\n        //Jump links\n        $('.si-jump').SIJump();\n\n        //Page messages\n        SIPageMessages.init();\n    };\n\n    $.fn.SIInit();\n\n\n    // ===================================================== Modals\n    $.fn.SIModalInit = function () {\n\n        SIModals.init();\n\n        // Init modals\n        SIModals.attachModal('.open-phone-modal', '.phone-modal', {\n            '.send-extra': 'extra',\n            '.send-extra2': 'extra2'\n        });\n\n        SIModals.attachModal('.open-text-modal', '.text-modal', false, function () {\n            return '.text-modal-' + $(this).data('id');\n        });\n\n        SIModals.attachModal('.open-registration-modal', '.registration-modal', {\n            '.send-extra': 'extra',\n            '.send-extra2': 'extra2'\n        });\n\n        // Modal controls\n        SIModals.attachClose('.si-close');\n    };\n\n    $.fn.SIModalInit();\n\n\n    // ===================================================== fancybox video\n    $(\".show-video\").click(function () {\n        $.fancybox({\n            'padding': 0,\n            'autoScale': false,\n            'transitionIn': 'none',\n            'transitionOut': 'none',\n            'title': this.title,\n            'width': 640,\n            'height': 385,\n            'href': this.href.replace(new RegExp(\"watch\\\\?v=\", \"i\"), 'v/'),\n            'type': 'swf',\n            'swf': {\n                'wmode': 'transparent',\n                'allowfullscreen': 'true'\n            }\n        });\n\n        return false;\n    });\n\n    // ===================================================== Styler\n    $('select').styler();\n\n\n    // ===================================================== spoiler\n    $(\".spoiler\").spoiler();\n\n\n    // ===================================================== swiper\n    var mainReviewSlider = new Swiper('.main-review-block', {\n        slidesPerView: 1,\n        pagination: '.main-review-pagination',\n        nextButton: '.main-review-next',\n        prevButton: '.main-review-prev',\n        paginationClickable: true,\n        loop: true,\n        onSlideChangeStart: function (swiper) {\n            $.ionSound.play('wuf-1');\n        }\n    });\n\n    var tutorsSlider = new Swiper('.tutors-block', {\n        slidesPerView: 1,\n        pagination: '.tutors-pagination',\n        nextButton: '.tutors-next',\n        prevButton: '.tutors-prev',\n        paginationClickable: true,\n        loop: true,\n        onSlideChangeStart: function (swiper) {\n            $.ionSound.play('wuf-1');\n        }\n    });\n\n    var articleSlider = new Swiper('.article-block', {\n        slidesPerView: 2,\n        spaceBetween: 10,\n        pagination: '.article-pagination',\n        paginationClickable: true,\n        loop: true,\n        onSlideChangeStart: function (swiper) {\n            $.ionSound.play('wuf-1');\n        }\n    });\n\n    var courseReviewsSlider = new Swiper('.course-reviews-block', {\n        slidesPerView: 2,\n        spaceBetween: 10,\n        pagination: '.course-reviews-pagination',\n        nextButton: '.course-reviews-next',\n        prevButton: '.course-reviews-prev',\n        paginationClickable: true,\n        loop: true,\n        onSlideChangeStart: function (swiper) {\n            $.ionSound.play('wuf-1');\n        }\n    });\n\n\n    // =====================================================dotdotdot\n    $('.ellipsis').dotdotdot();\n\n\n    // ===================================================== catalogue sort\n    function catalogueSort(item, category) {\n        if (category == 'all') {\n            item.each(function () {\n                $(this).addClass('active');\n            });\n        }\n\n        else {\n            item.each(function () {\n                var currentCat = $(this).data('cat');\n\n                if (currentCat != category) {\n                    $(this).removeClass('active');\n                }\n                else {\n                    $(this).addClass('active');\n                }\n            });\n        }\n    }\n\n    catalogueSort($('.catalogue-item-holder'), $('.catalogue-link.active').data('cat'));\n\n    $('.catalogue-link').click(function () {\n        var tabLink = $(this),\n            item = $('.catalogue-item-holder'),\n            category = $(this).data('cat');\n\n        tabLink.siblings().removeClass('active');\n        $(this).addClass('active');\n\n        catalogueSort(item, category);\n    });\n\n\n    // ===================================================== custom scripts\n\n    //tabs\n    function changeActiveTab(tabLink) {\n        var tabLinkSibling = tabLink.siblings();\n        tabLinkSibling.each(function () {\n            if ($(this).hasClass('active')) {\n                $(this).removeClass('active');\n            }\n        });\n        tabLink.addClass('active');\n    }\n\n    function changeActiveTabContent(tabBlock, id, blockID) {\n        var tabContent;\n        tabBlock.find('.tab-content').each(function () {\n            if ($(this).data('tab-block') == blockID) {\n                if ($(this).hasClass('active')) {\n                    $(this).removeClass('active');\n                }\n                if ($(this).data('tab') == id) {\n                    tabContent = $(this);\n                }\n            }\n        });\n        tabContent.addClass('active');\n        $.ionSound.play('wuf-4');\n    }\n\n    $('.tab-link').click(function () {\n        var tabLink = $(this),\n            tabID = $(this).data('tab'),\n            tabBlockID = $(this).data('tab-block'),\n            tabBlock = $(this).parents('.tabs-block'),\n            curTabBlock;\n        tabBlock.each(function () {\n            if ($(this).data('tab-block') == tabBlockID) {\n                curTabBlock = $(this);\n            }\n        });\n        changeActiveTab(tabLink);\n        changeActiveTabContent(curTabBlock, tabID, tabBlockID);\n    });\n\n\n    // ===================================================== maps\n    var myMap;\n\n    function mapInit(mapBlock, mapID) {\n        ymaps.ready(function () {\n            mapBlock = new ymaps.Map(mapID, {\n                center: [55.768658, 37.603000],\n                zoom: 16\n            }, {\n                searchControlProvider: 'yandex#search'\n            });\n            mapBlock.behaviors.disable('scrollZoom');\n\n            pointByPlacemark(mapBlock);\n        });\n    }\n\n    function pointByPlacemark(mapBlock) {\n        var myPlacemark = new ymaps.Placemark(\n            [55.768658, 37.601115], {\n                iconCaption: 'Старопименовский переулок, д. 4, стр. 2'\n            }, {\n                preset: 'islands#blueCircleDotIconWithCaption',\n                iconCaptionMaxWidth: '300'\n            }\n        );\n        mapBlock.geoObjects.add(myPlacemark);\n    }\n\n    function pointWithCustomIcon(mapBlock) {\n        var myPlacemark = new ymaps.Placemark(\n            [59.939800, 30.340000], {\n                hintContent: 'Текст подсказки'\n            }, {\n                iconLayout: 'default#image',\n                iconImageHref: template_url + \"images/map-point.png\",\n                iconImageSize: [48, 58],\n                iconImageOffset: [-24, -58]\n            }\n        );\n        mapBlock.geoObjects.add(myPlacemark);\n    }\n\n    mapInit(myMap, 'map');\n\n    // ===================================================== loader\n    setTimeout(function () {\n        $('html').removeClass('loading');\n        setTimeout(function () {\n            $('.loader').hide();\n        }, 500);\n    }, 1000);\n    // ===================================================== schedule open form\n    $('.more').click(function() {\n      $(this).parents('tr').next('.form_more').toggle();\n    })\n    $('.close_more').click(function() {\n      $(this).parents('.form_more').hide();\n    })\n});\n","// SLIDER_LINKS = []\n// $('#mainSlider a').each(function(index) { SLIDER_LINKS.push(this.href) })\n\n// $(function() {\n//     $.each(SLIDER_LINKS, function(index, href) {\n//         var add = $('#addSlider .slide:eq(' + index + ')');\n//         add.find('.button--info').attr('href', href);\n//         add.find('.button--primary').attr('href', href + '#registerAnchor');\n//     })\n// })\n$(function() {\n   var $mainSlider = $('#mainSlider').fotorama().data('fotorama'),\n      $addSlider = $('#addSlider .add-slider');\n   $mainSlider.setOptions({\n    width: '100%',\n    height: '345px',\n    nav: 'dots',\n    arrows: false,\n    fit: 'cover',\n    loop: true,\n    // autoplay: 5000\n  });\n  $('#mainSlider').on('fotorama:load fotorama:show', function(e, fotorama) {\n    $addSlider.eq(fotorama.activeIndex).fadeIn(200).siblings().hide();\n  });\n\n  $('#mainSlider, #addSlider').on('mouseenter', function() {\n    $mainSlider.stopAutoplay();\n  }).on('mouseleave', function() {\n    // $mainSlider.startAutoplay(5000);\n  });\n\n});","$(function() {\n   var $whoLearn = $('#whoLearn').fotorama().data('fotorama');\n   $whoLearn.setOptions({\n    width: '100%',\n    height: '370px',\n    nav: false,\n    arrows: false,\n    fit: 'cover',\n    loop: true,\n    autoplay: false\n    // autoplay: 5000\n  });\n\n  $('#whoLearn').on('mouseenter', function() {\n    // $whoLearn.stopAutoplay();\n  }).on('mouseleave', function() {\n    // $whoLearn.startAutoplay(5000);\n  });\n});"]}