{"version":3,"sources":["main.js","../../components/slider/_slider.js","../../components/whoLearn/_whoLearn.js"],"names":["jQuery","$","removeTransform","block","className","css","transform","-webkit-transform","-moz-transform","-ms-transform","-o-transform","removeClass","catalogueSort","item","category","each","this","addClass","data","changeActiveTab","tabLink","siblings","hasClass","changeActiveTabContent","tabBlock","id","blockID","tabContent","find","ionSound","play","pointByPlacemark","mapBlock","myPlacemark","ymaps","Placemark","iconCaption","preset","iconCaptionMaxWidth","geoObjects","add","$mainSlider","fotorama","$addSlider","setOptions","width","height","nav","arrows","fit","loop","autoplay","on","e","eq","activeIndex","fadeIn","hide","stopAutoplay","startAutoplay","test","navigator","userAgent","i","a","bgX","slice","indexOf","bgY","margin","window","bind","is_mobile","transition","-webkit-transition","opacity","innerWidth","sounds","path","template_url","volume","document","SIModals","beforeOpen","beforeClose","SmoothScroll","stepSize","match","event","preventDefault","wheelDelta","currentScrollPosition","pageYOffset","scrollTo","is_OSX","fn","SIInit","attr","not","fancybox","helpers","thumbs","SIForms","validateFields","client_name","client_phone","client_mail","sendSuccess","res","SIJump","SIPageMessages","init","SIModalInit","attachModal",".send-extra",".send-extra2","attachClose","click","padding","autoScale","transitionIn","transitionOut","title","href","replace","RegExp","type","swf","wmode","allowfullscreen","styler","spoiler","Swiper","slidesPerView","pagination","nextButton","prevButton","paginationClickable","onSlideChangeStart","swiper","spaceBetween","dotdotdot","curTabBlock","tabID","tabBlockID","parents","mapID","ready","Map","center","zoom","searchControlProvider","behaviors","disable","myMap","setTimeout","next","toggle"],"mappings":"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","file":"../main.js","sourcesContent":["jQuery(function ($) {\n    // SLIDER_LINKS = []\n    // $('#mainSlider a').each(function(index) { SLIDER_LINKS.push(this.href) })\n    \n    // $(function() {\n    //     $.each(SLIDER_LINKS, function(index, href) {\n    //         var add = $('#addSlider .slide:eq(' + index + ')');\n    //         add.find('.button--info').attr('href', href);\n    //         add.find('.button--primary').attr('href', href + '#registerAnchor');\n    //     })\n    // })\n    $(function() {\n       var $mainSlider = $('#mainSlider').fotorama().data('fotorama'),\n          $addSlider = $('#addSlider .add-slider');\n       $mainSlider.setOptions({\n        width: '100%',\n        height: '345px',\n        nav: 'dots',\n        arrows: false,\n        fit: 'cover',\n        loop: true,\n        autoplay: 5000\n      });\n      $('#mainSlider').on('fotorama:load fotorama:show', function(e, fotorama) {\n        $addSlider.eq(fotorama.activeIndex).fadeIn(200).siblings().hide();\n      });\n    \n      $('#mainSlider, #addSlider').on('mouseenter', function() {\n        $mainSlider.stopAutoplay();\n      }).on('mouseleave', function() {\n        $mainSlider.startAutoplay(5000);\n      });\n    \n    });\n    $(function() {\n       var $whoLearn = $('#whoLearn').fotorama().data('fotorama');\n       $whoLearn.setOptions({\n        width: '100%',\n        height: '370px',\n        nav: false,\n        arrows: false,\n        fit: 'cover',\n        loop: true,\n        autoplay: false\n        // autoplay: 5000\n      });\n    \n      $('#whoLearn').on('mouseenter', function() {\n        // $whoLearn.stopAutoplay();\n      }).on('mouseleave', function() {\n        // $whoLearn.startAutoplay(5000);\n      });\n    });\n    // ===================================================== Fix fixed bg's jump\n\n    /MSIE [6-8]|Mac/i.test(navigator.userAgent) || $(\"header, article, footer\").each(function () {\n        if (\"fixed\" == $(this).css(\"backgroundAttachment\")) {\n            var i = $(this), a = /WebKit/i.test(navigator.userAgent) ? 9 : 8;\n            i.addClass(\"froid-fixed-bg\").data({\n                bgX: i.css(\"backgroundPosition\").slice(0, i.css(\"backgroundPosition\").indexOf(\" \")),\n                bgY: i.css(\"backgroundPosition\").slice(i.css(\"backgroundPosition\").indexOf(\" \")),\n                margin: a\n            })\n        }\n    }), $(window).bind(\"SIModals.modalsOpen\", function () {\n        $(\".froid-fixed-bg\").each(function () {\n            var i = $(this);\n            i.css(\"backgroundPosition\", \"calc(\" + i.data(\"bgX\") + \" - \" + i.data(\"margin\") + \"px) \" + i.data(\"bgY\"))\n        })\n    }), $(window).bind(\"SIModals.modalsClose\", function () {\n        $(\".froid-fixed-bg\").each(function () {\n            var i = $(this);\n            i.css(\"backgroundPosition\", i.data(\"bgX\") + \" \" + i.data(\"bgY\"))\n        })\n    });\n\n    // ===================================================== Mobile full-width && disable animation\n\n    if (is_mobile()) {\n\n        // Fix mobile fixed bg's\n        $(\"header, section, article, footer, .section-bg-block::before\").each(function () {\n            if (\"fixed\" == $(this).css(\"backgroundAttachment\")) $(this).css('backgroundAttachment', 'scroll');\n        });\n\n        // Remove animation\n        function removeAnimation(block, className) {\n            block.css({\n                'transform': 'none',\n                '-webkit-transform': 'none',\n                '-moz-transform': 'none',\n                '-ms-transform': 'none',\n                '-o-transform': 'none',\n                'transition': 'none',\n                '-webkit-transition': 'none',\n                'opacity': 1\n            }).removeClass(className);\n        }\n\n        function removeTransform(block, className) {\n            block.css({\n                'transform': 'none',\n                '-webkit-transform': 'none',\n                '-moz-transform': 'none',\n                '-ms-transform': 'none',\n                '-o-transform': 'none'\n            }).removeClass(className);\n        }\n\n        removeAnimation($('.cre-animate'), 'cre-animate');\n        removeTransform($('.si-floating'), 'si-floating');\n        removeTransform($('.si-floating2'), 'si-floating2');\n        removeTransform($('.si-floating3'), 'si-floating3');\n        removeTransform($('.si-floating4'), 'si-floating4');\n\n        // Mobile stretch\n        $('html, body').css('min-width', '1280px').addClass('mobile');\n        $('html').css('width', window.innerWidth + 'px');\n\n\n        // ===================================================== All sound load\n        $.ionSound({\n            sounds: [\"bip-1\", \"bip-2\", \"wuf-1\", \"wuf-2\", \"wuf-3\", \"wuf-4\"],\n            path: template_url + \"/sounds/\",\n            volume: 0\n        });\n    }\n    else {\n\n        // ===================================================== All sound load\n        $.ionSound({\n            sounds: [\"bip-1\", \"bip-2\", \"wuf-1\", \"wuf-2\", \"wuf-3\", \"wuf-4\"],\n            path: template_url + \"/sounds/\",\n            volume: 0.3\n        });\n\n        // ===================================================== Sounds\n        $(document).on('mouseenter',\n            '.btn, ' +\n            '.si-close, ' +\n            '.si-close-popup, ' +\n            '.phone-link, ' +\n            '.si-jump, ' +\n            '.swiper-button-prev, ' +\n            '.swiper-button-next, ' +\n            '.swiper-pagination-bullet, ' +\n            '.tab-link', function () {\n                $.ionSound.play('bip-2');\n            });\n        SIModals.beforeOpen = function () {\n            $.ionSound.play('wuf-4');\n        };\n        SIModals.beforeClose = function () {\n            $.ionSound.play('wuf-3');\n        };\n\n\n        // ===================================================== smooth scrolling\n        SmoothScroll({stepSize: 100});\n\n        if (navigator.userAgent.match(/Trident\\/7\\./)) { // if IE\n            $('body').on(\"mousewheel\", function () {\n                event.preventDefault();\n                var wheelDelta = event.wheelDelta;\n                var currentScrollPosition = window.pageYOffset;\n                window.scrollTo(0, currentScrollPosition - wheelDelta);\n            });\n        }\n    }\n\n    if (is_OSX()) {\n        $('html, body').addClass('osx');\n    }\n\n\n    // ===================================================== Init all plugins and scripts\n    $.fn.SIInit = function () {\n\n        //Modal photos\n        $('a[data-rel]').each(function () {\n            $(this).attr('rel', $(this).data('rel'));\n        });\n        $('a[rel^=fancybox]').not('.cloned a').fancybox({\n            helpers: {\n                thumbs: true\n            }\n        });\n\n        //Forms\n        $('.send-form').SIForms({\n            'validateFields': {\n                'client_name': 'Укажите ваше имя',\n                'client_phone': 'Укажите ваш телефон',\n                'client_mail': 'Укажите ваш e-mail'\n            },\n            'sendSuccess': function (res) {\n                //указать id счётчика!!\n                //yaCounter.reachGoal('target' + res.id);\n                //ga('send', 'event', res.gcode, res.gcode);\n            }\n        });\n\n        $('.send-form1').SIForms({\n            'validateFields': {\n                'client_phone': 'Укажите ваш телефон',\n                'client_mail': 'Укажите ваш e-mail'\n            },\n            'sendSuccess': function (res) {\n                //указать id счётчика!!\n                //yaCounter.reachGoal('target' + res.id);\n                //ga('send', 'event', res.gcode, res.gcode);\n            }\n        });\n\n        //Jump links\n        $('.si-jump').SIJump();\n\n        //Page messages\n        SIPageMessages.init();\n    };\n\n    $.fn.SIInit();\n\n\n    // ===================================================== Modals\n    $.fn.SIModalInit = function () {\n\n        SIModals.init();\n\n        // Init modals\n        SIModals.attachModal('.open-phone-modal', '.phone-modal', {\n            '.send-extra': 'extra',\n            '.send-extra2': 'extra2'\n        });\n\n        SIModals.attachModal('.open-text-modal', '.text-modal', false, function () {\n            return '.text-modal-' + $(this).data('id');\n        });\n\n        SIModals.attachModal('.open-registration-modal', '.registration-modal', {\n            '.send-extra': 'extra',\n            '.send-extra2': 'extra2'\n        });\n\n        // Modal controls\n        SIModals.attachClose('.si-close');\n    };\n\n    $.fn.SIModalInit();\n\n\n    // ===================================================== fancybox video\n    $(\".show-video\").click(function () {\n        $.fancybox({\n            'padding': 0,\n            'autoScale': false,\n            'transitionIn': 'none',\n            'transitionOut': 'none',\n            'title': this.title,\n            'width': 640,\n            'height': 385,\n            'href': this.href.replace(new RegExp(\"watch\\\\?v=\", \"i\"), 'v/'),\n            'type': 'swf',\n            'swf': {\n                'wmode': 'transparent',\n                'allowfullscreen': 'true'\n            }\n        });\n\n        return false;\n    });\n\n    // ===================================================== Styler\n    $('select').styler();\n\n\n    // ===================================================== spoiler\n    $(\".spoiler\").spoiler();\n\n\n    // ===================================================== swiper\n    var mainReviewSlider = new Swiper('.main-review-block', {\n        slidesPerView: 1,\n        pagination: '.main-review-pagination',\n        nextButton: '.main-review-next',\n        prevButton: '.main-review-prev',\n        paginationClickable: true,\n        loop: true,\n        onSlideChangeStart: function (swiper) {\n            $.ionSound.play('wuf-1');\n        }\n    });\n\n    var tutorsSlider = new Swiper('.tutors-block', {\n        slidesPerView: 1,\n        pagination: '.tutors-pagination',\n        nextButton: '.tutors-next',\n        prevButton: '.tutors-prev',\n        paginationClickable: true,\n        loop: true,\n        onSlideChangeStart: function (swiper) {\n            $.ionSound.play('wuf-1');\n        }\n    });\n\n    var articleSlider = new Swiper('.article-block', {\n        slidesPerView: 2,\n        spaceBetween: 10,\n        pagination: '.article-pagination',\n        paginationClickable: true,\n        loop: true,\n        onSlideChangeStart: function (swiper) {\n            $.ionSound.play('wuf-1');\n        }\n    });\n\n    var courseReviewsSlider = new Swiper('.course-reviews-block', {\n        slidesPerView: 2,\n        spaceBetween: 10,\n        pagination: '.course-reviews-pagination',\n        nextButton: '.course-reviews-next',\n        prevButton: '.course-reviews-prev',\n        paginationClickable: true,\n        loop: true,\n        onSlideChangeStart: function (swiper) {\n            $.ionSound.play('wuf-1');\n        }\n    });\n\n\n    // =====================================================dotdotdot\n    $('.ellipsis').dotdotdot();\n\n\n    // ===================================================== catalogue sort\n    function catalogueSort(item, category) {\n        if (category == 'all') {\n            item.each(function () {\n                $(this).addClass('active');\n            });\n        }\n\n        else {\n            item.each(function () {\n                var currentCat = $(this).data('cat');\n\n                if (currentCat != category) {\n                    $(this).removeClass('active');\n                }\n                else {\n                    $(this).addClass('active');\n                }\n            });\n        }\n    }\n\n    catalogueSort($('.catalogue-item-holder'), $('.catalogue-link.active').data('cat'));\n\n    $('.catalogue-link').click(function () {\n        var tabLink = $(this),\n            item = $('.catalogue-item-holder'),\n            category = $(this).data('cat');\n\n        tabLink.siblings().removeClass('active');\n        $(this).addClass('active');\n\n        catalogueSort(item, category);\n    });\n\n\n    // ===================================================== custom scripts\n\n    //tabs\n    function changeActiveTab(tabLink) {\n        var tabLinkSibling = tabLink.siblings();\n        tabLinkSibling.each(function () {\n            if ($(this).hasClass('active')) {\n                $(this).removeClass('active');\n            }\n        });\n        tabLink.addClass('active');\n    }\n\n    function changeActiveTabContent(tabBlock, id, blockID) {\n        var tabContent;\n        tabBlock.find('.tab-content').each(function () {\n            if ($(this).data('tab-block') == blockID) {\n                if ($(this).hasClass('active')) {\n                    $(this).removeClass('active');\n                }\n                if ($(this).data('tab') == id) {\n                    tabContent = $(this);\n                }\n            }\n        });\n        tabContent.addClass('active');\n        $.ionSound.play('wuf-4');\n    }\n\n    $('.tab-link').click(function () {\n        var tabLink = $(this),\n            tabID = $(this).data('tab'),\n            tabBlockID = $(this).data('tab-block'),\n            tabBlock = $(this).parents('.tabs-block'),\n            curTabBlock;\n        tabBlock.each(function () {\n            if ($(this).data('tab-block') == tabBlockID) {\n                curTabBlock = $(this);\n            }\n        });\n        changeActiveTab(tabLink);\n        changeActiveTabContent(curTabBlock, tabID, tabBlockID);\n    });\n\n\n    // ===================================================== maps\n    var myMap;\n\n    function mapInit(mapBlock, mapID) {\n        ymaps.ready(function () {\n            mapBlock = new ymaps.Map(mapID, {\n                center: [55.768658, 37.603000],\n                zoom: 16\n            }, {\n                searchControlProvider: 'yandex#search'\n            });\n            mapBlock.behaviors.disable('scrollZoom');\n\n            pointByPlacemark(mapBlock);\n        });\n    }\n\n    function pointByPlacemark(mapBlock) {\n        var myPlacemark = new ymaps.Placemark(\n            [55.768658, 37.601115], {\n                iconCaption: 'Старопименовский переулок, д. 4, стр. 2'\n            }, {\n                preset: 'islands#blueCircleDotIconWithCaption',\n                iconCaptionMaxWidth: '300'\n            }\n        );\n        mapBlock.geoObjects.add(myPlacemark);\n    }\n\n    function pointWithCustomIcon(mapBlock) {\n        var myPlacemark = new ymaps.Placemark(\n            [59.939800, 30.340000], {\n                hintContent: 'Текст подсказки'\n            }, {\n                iconLayout: 'default#image',\n                iconImageHref: template_url + \"images/map-point.png\",\n                iconImageSize: [48, 58],\n                iconImageOffset: [-24, -58]\n            }\n        );\n        mapBlock.geoObjects.add(myPlacemark);\n    }\n\n    mapInit(myMap, 'map');\n\n    // ===================================================== loader\n    setTimeout(function () {\n        $('html').removeClass('loading');\n        setTimeout(function () {\n            $('.loader').hide();\n        }, 500);\n    }, 1000);\n    // ===================================================== schedule open form\n    $('.more').click(function() {\n      $(this).parents('tr').next('.form_more').toggle();\n    })\n    $('.close_more').click(function() {\n      $(this).parents('.form_more').hide();\n    })\n});\n","// SLIDER_LINKS = []\n// $('#mainSlider a').each(function(index) { SLIDER_LINKS.push(this.href) })\n\n// $(function() {\n//     $.each(SLIDER_LINKS, function(index, href) {\n//         var add = $('#addSlider .slide:eq(' + index + ')');\n//         add.find('.button--info').attr('href', href);\n//         add.find('.button--primary').attr('href', href + '#registerAnchor');\n//     })\n// })\n$(function() {\n   var $mainSlider = $('#mainSlider').fotorama().data('fotorama'),\n      $addSlider = $('#addSlider .add-slider');\n   $mainSlider.setOptions({\n    width: '100%',\n    height: '345px',\n    nav: 'dots',\n    arrows: false,\n    fit: 'cover',\n    loop: true,\n    autoplay: 5000\n  });\n  $('#mainSlider').on('fotorama:load fotorama:show', function(e, fotorama) {\n    $addSlider.eq(fotorama.activeIndex).fadeIn(200).siblings().hide();\n  });\n\n  $('#mainSlider, #addSlider').on('mouseenter', function() {\n    $mainSlider.stopAutoplay();\n  }).on('mouseleave', function() {\n    $mainSlider.startAutoplay(5000);\n  });\n\n});","$(function() {\n   var $whoLearn = $('#whoLearn').fotorama().data('fotorama');\n   $whoLearn.setOptions({\n    width: '100%',\n    height: '370px',\n    nav: false,\n    arrows: false,\n    fit: 'cover',\n    loop: true,\n    autoplay: false\n    // autoplay: 5000\n  });\n\n  $('#whoLearn').on('mouseenter', function() {\n    // $whoLearn.stopAutoplay();\n  }).on('mouseleave', function() {\n    // $whoLearn.startAutoplay(5000);\n  });\n});"]}